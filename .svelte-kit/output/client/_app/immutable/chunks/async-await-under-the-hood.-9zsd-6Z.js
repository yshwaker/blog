import{s as _s,n as ss}from"./scheduler.Bwf3gQP1.js";import{S as hs,i as ws,d as n,a,c as e,g as t,e as o,f as Y,h as c,j as p,H as $}from"./index.BB1_hVuL.js";function bs(us){let r,ls="ES2017 å¼•å…¥äº†<code>Async/Await</code>è¯­æ³•ï¼Œä½¿å¾—æˆ‘ä»¬çš„å¼‚æ­¥ä»£ç çœ‹èµ·æ¥æ›´åƒæ˜¯åŒæ­¥ä»£ç ï¼Œéšè—äº†æˆå †çš„å›è°ƒå‡½æ•°ã€‚ä½†æ˜¯ Javascript å¼•æ“å†…éƒ¨æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ",g,F,ns="å…ˆæ¥çœ‹çœ‹ Babel çš„å®ç°",G,y,as="åœ¨å‰å‡ å¹´æµè§ˆå™¨è¿˜æ²¡æœ‰å®Œå…¨åŸç”Ÿæ”¯æŒ<code>async</code>è¯­æ³•æ—¶ï¼Œä¸ºäº†æŠ¢å…ˆä½“éªŒ ECMA Spec ä¸­çš„æ–°åŠŸèƒ½ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨ Babel å°†æœ€æ–°è¯­æ³•è½¬è¯‘<code>Transpile</code>æˆæµè§ˆå™¨æ”¯æŒçš„è¯­æ³•ç»“æ„",S,D,os="å¦‚ï¼š",z,b,vs=`<pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8" tabindex="0"><code><span class="line"><span style="color:#C792EA">async</span><span style="color:#C792EA"> function</span><span style="color:#82AAFF"> foo</span><span style="color:#89DDFF">(</span><span style="color:#BABED8;font-style:italic">url</span><span style="color:#89DDFF">)</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">  try</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#C792EA">    const</span><span style="color:#BABED8"> response</span><span style="color:#89DDFF"> =</span><span style="color:#89DDFF;font-style:italic"> await</span><span style="color:#82AAFF"> fetch</span><span style="color:#F07178">(</span><span style="color:#BABED8">url</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#BABED8">    console</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">log</span><span style="color:#F07178">(</span><span style="color:#89DDFF;font-style:italic">await</span><span style="color:#BABED8"> response</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">text</span><span style="color:#F07178">())</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">  }</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">  catch</span><span style="color:#F07178"> (</span><span style="color:#BABED8">err</span><span style="color:#F07178">) </span><span style="color:#89DDFF">{</span></span>
<span class="line"><span style="color:#BABED8">    console</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">log</span><span style="color:#F07178">(</span><span style="color:#89DDFF">'</span><span style="color:#C3E88D">fetch failed</span><span style="color:#89DDFF">'</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> err</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">  }</span></span>
<span class="line"><span style="color:#89DDFF">}</span></span></code></pre>`,T,i,ps="è½¬è¯‘æˆäº†",q,H,Cs=`<pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8" tabindex="0"><code><span class="line"><span style="color:#C792EA">function</span><span style="color:#82AAFF"> asyncGeneratorStep</span><span style="color:#89DDFF">(</span><span style="color:#BABED8;font-style:italic">gen</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> resolve</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> reject</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> _next</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> _throw</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> key</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> arg</span><span style="color:#89DDFF">)</span><span style="color:#89DDFF"> {</span><span style="color:#89DDFF;font-style:italic"> try</span><span style="color:#89DDFF"> {</span><span style="color:#C792EA"> var</span><span style="color:#BABED8"> info</span><span style="color:#89DDFF"> =</span><span style="color:#BABED8"> gen</span><span style="color:#F07178">[</span><span style="color:#BABED8">key</span><span style="color:#F07178">](</span><span style="color:#BABED8">arg</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span><span style="color:#C792EA"> var</span><span style="color:#BABED8"> value</span><span style="color:#89DDFF"> =</span><span style="color:#BABED8"> info</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">value</span><span style="color:#89DDFF">;</span><span style="color:#89DDFF"> }</span><span style="color:#89DDFF;font-style:italic"> catch</span><span style="color:#F07178"> (</span><span style="color:#BABED8">error</span><span style="color:#F07178">) </span><span style="color:#89DDFF">{</span><span style="color:#82AAFF"> reject</span><span style="color:#F07178">(</span><span style="color:#BABED8">error</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span><span style="color:#89DDFF;font-style:italic"> return</span><span style="color:#89DDFF">;</span><span style="color:#89DDFF"> }</span><span style="color:#89DDFF;font-style:italic"> if</span><span style="color:#F07178"> (</span><span style="color:#BABED8">info</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">done</span><span style="color:#F07178">) </span><span style="color:#89DDFF">{</span><span style="color:#82AAFF"> resolve</span><span style="color:#F07178">(</span><span style="color:#BABED8">value</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span><span style="color:#89DDFF"> }</span><span style="color:#89DDFF;font-style:italic"> else</span><span style="color:#89DDFF"> {</span><span style="color:#FFCB6B"> Promise</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">resolve</span><span style="color:#F07178">(</span><span style="color:#BABED8">value</span><span style="color:#F07178">)</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">then</span><span style="color:#F07178">(</span><span style="color:#BABED8">_next</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> _throw</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span><span style="color:#89DDFF"> }</span><span style="color:#89DDFF"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA">function</span><span style="color:#82AAFF"> _asyncToGenerator</span><span style="color:#89DDFF">(</span><span style="color:#BABED8;font-style:italic">fn</span><span style="color:#89DDFF">)</span><span style="color:#89DDFF"> {</span><span style="color:#89DDFF;font-style:italic"> return</span><span style="color:#C792EA"> function</span><span style="color:#89DDFF"> ()</span><span style="color:#89DDFF"> {</span><span style="color:#C792EA"> var</span><span style="color:#BABED8"> self</span><span style="color:#89DDFF"> =</span><span style="color:#89DDFF"> this,</span><span style="color:#BABED8"> args</span><span style="color:#89DDFF"> =</span><span style="color:#BABED8"> arguments</span><span style="color:#89DDFF">;</span><span style="color:#89DDFF;font-style:italic"> return</span><span style="color:#89DDFF"> new</span><span style="color:#FFCB6B"> Promise</span><span style="color:#F07178">(</span><span style="color:#C792EA">function</span><span style="color:#89DDFF"> (</span><span style="color:#BABED8;font-style:italic">resolve</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> reject</span><span style="color:#89DDFF">)</span><span style="color:#89DDFF"> {</span><span style="color:#C792EA"> var</span><span style="color:#BABED8"> gen</span><span style="color:#89DDFF"> =</span><span style="color:#BABED8"> fn</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">apply</span><span style="color:#F07178">(</span><span style="color:#BABED8">self</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> args</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span><span style="color:#C792EA"> function</span><span style="color:#82AAFF"> _next</span><span style="color:#89DDFF">(</span><span style="color:#BABED8;font-style:italic">value</span><span style="color:#89DDFF">)</span><span style="color:#89DDFF"> {</span><span style="color:#82AAFF"> asyncGeneratorStep</span><span style="color:#F07178">(</span><span style="color:#BABED8">gen</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> resolve</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> reject</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> _next</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> _throw</span><span style="color:#89DDFF">,</span><span style="color:#89DDFF"> "</span><span style="color:#C3E88D">next</span><span style="color:#89DDFF">"</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> value</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span><span style="color:#89DDFF"> }</span><span style="color:#C792EA"> function</span><span style="color:#82AAFF"> _throw</span><span style="color:#89DDFF">(</span><span style="color:#BABED8;font-style:italic">err</span><span style="color:#89DDFF">)</span><span style="color:#89DDFF"> {</span><span style="color:#82AAFF"> asyncGeneratorStep</span><span style="color:#F07178">(</span><span style="color:#BABED8">gen</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> resolve</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> reject</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> _next</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> _throw</span><span style="color:#89DDFF">,</span><span style="color:#89DDFF"> "</span><span style="color:#C3E88D">throw</span><span style="color:#89DDFF">"</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> err</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span><span style="color:#89DDFF"> }</span><span style="color:#82AAFF"> _next</span><span style="color:#F07178">(</span><span style="color:#89DDFF">undefined</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span><span style="color:#89DDFF"> }</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span><span style="color:#89DDFF"> };</span><span style="color:#89DDFF"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA">function</span><span style="color:#82AAFF"> foo</span><span style="color:#89DDFF">(</span><span style="color:#BABED8;font-style:italic">_x</span><span style="color:#89DDFF">)</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">  return</span><span style="color:#BABED8"> _foo</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">apply</span><span style="color:#F07178">(</span><span style="color:#89DDFF">this,</span><span style="color:#BABED8"> arguments</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA">function</span><span style="color:#82AAFF"> _foo</span><span style="color:#89DDFF">()</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#BABED8">  _foo</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> _asyncToGenerator</span><span style="color:#F07178">(</span><span style="color:#C792EA">function</span><span style="color:#89DDFF">*</span><span style="color:#82AAFF"> g_foo</span><span style="color:#89DDFF">(</span><span style="color:#BABED8;font-style:italic">url</span><span style="color:#89DDFF">)</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">    try</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#C792EA">      const</span><span style="color:#BABED8"> response</span><span style="color:#89DDFF"> =</span><span style="color:#89DDFF;font-style:italic"> yield</span><span style="color:#82AAFF"> fetch</span><span style="color:#F07178">(</span><span style="color:#BABED8">url</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#BABED8">      console</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">log</span><span style="color:#F07178">(</span><span style="color:#89DDFF;font-style:italic">yield</span><span style="color:#BABED8"> response</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">text</span><span style="color:#F07178">())</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">    }</span><span style="color:#89DDFF;font-style:italic"> catch</span><span style="color:#F07178"> (</span><span style="color:#BABED8">err</span><span style="color:#F07178">) </span><span style="color:#89DDFF">{</span></span>
<span class="line"><span style="color:#BABED8">      console</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">log</span><span style="color:#F07178">(</span><span style="color:#89DDFF">'</span><span style="color:#C3E88D">fetch failed</span><span style="color:#89DDFF">'</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> err</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">    }</span></span>
<span class="line"><span style="color:#89DDFF">  }</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">  return</span><span style="color:#BABED8"> _foo</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">apply</span><span style="color:#F07178">(</span><span style="color:#89DDFF">this,</span><span style="color:#BABED8"> arguments</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">}</span></span></code></pre>`,L,A,es="Babel æ›¿æˆ‘ä»¬ç”Ÿæˆäº†ä¸¤ä¸ª helper å‡½æ•°ï¼Œå¦‚æœæˆ‘ä»¬å¯¹å®ƒç¨åŠ ç®€åŒ–ï¼Œå¯ä»¥å¾—åˆ°ï¼š",J,P,ms=`<pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8" tabindex="0"><code><span class="line"><span style="color:#C792EA">function</span><span style="color:#82AAFF"> _asyncToGenerator</span><span style="color:#89DDFF">(</span><span style="color:#BABED8;font-style:italic">fn</span><span style="color:#89DDFF">)</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">  return</span><span style="color:#C792EA"> function</span><span style="color:#89DDFF"> ()</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#C792EA">    var</span><span style="color:#BABED8"> gen</span><span style="color:#89DDFF"> =</span><span style="color:#BABED8"> fn</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">apply</span><span style="color:#F07178">(</span><span style="color:#89DDFF">this,</span><span style="color:#BABED8"> arguments</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">    return</span><span style="color:#89DDFF"> new</span><span style="color:#FFCB6B"> Promise</span><span style="color:#F07178">(</span><span style="color:#C792EA">function</span><span style="color:#89DDFF"> (</span><span style="color:#BABED8;font-style:italic">resolve</span><span style="color:#89DDFF">)</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#C792EA">      function</span><span style="color:#82AAFF"> step</span><span style="color:#89DDFF">(</span><span style="color:#BABED8;font-style:italic">key</span><span style="color:#89DDFF">,</span><span style="color:#BABED8;font-style:italic"> arg</span><span style="color:#89DDFF">)</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#C792EA">        var</span><span style="color:#BABED8"> info</span><span style="color:#89DDFF"> =</span><span style="color:#BABED8"> gen</span><span style="color:#F07178">[</span><span style="color:#BABED8">key</span><span style="color:#F07178">](</span><span style="color:#BABED8">arg</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#C792EA">        var</span><span style="color:#BABED8"> value</span><span style="color:#89DDFF"> =</span><span style="color:#BABED8"> info</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">value</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">       if</span><span style="color:#F07178"> (</span><span style="color:#BABED8">info</span><span style="color:#89DDFF">.</span><span style="color:#BABED8">done</span><span style="color:#F07178">) </span><span style="color:#89DDFF">{</span></span>
<span class="line"><span style="color:#82AAFF">          resolve</span><span style="color:#F07178">(</span><span style="color:#BABED8">value</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">        }</span><span style="color:#89DDFF;font-style:italic"> else</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#676E95;font-style:italic">          // å¦‚æœvalueä¸æ˜¯ä¸€ä¸ªpromiseï¼Œåˆ™å°†å®ƒè½¬åŒ–æˆä¸€ä¸ªresolved promise</span></span>
<span class="line"><span style="color:#FFCB6B">          Promise</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">resolve</span><span style="color:#F07178">(</span><span style="color:#BABED8">value</span><span style="color:#F07178">)</span><span style="color:#89DDFF">.</span><span style="color:#82AAFF">then</span><span style="color:#F07178">(</span><span style="color:#C792EA">function</span><span style="color:#89DDFF">(</span><span style="color:#BABED8;font-style:italic">val</span><span style="color:#89DDFF">)</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#82AAFF">            step</span><span style="color:#F07178">(</span><span style="color:#89DDFF">"</span><span style="color:#C3E88D">next</span><span style="color:#89DDFF">"</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> val</span><span style="color:#F07178">)</span></span>
<span class="line"><span style="color:#89DDFF">          },</span><span style="color:#C792EA"> function</span><span style="color:#89DDFF">(</span><span style="color:#BABED8;font-style:italic">err</span><span style="color:#89DDFF">)</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#82AAFF">            step</span><span style="color:#F07178">(</span><span style="color:#89DDFF">"</span><span style="color:#C3E88D">throw</span><span style="color:#89DDFF">"</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> err</span><span style="color:#F07178">)</span></span>
<span class="line"><span style="color:#89DDFF">          }</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">        }</span></span>
<span class="line"><span style="color:#89DDFF">      }</span></span>
<span class="line"><span style="color:#82AAFF">      step</span><span style="color:#F07178">(</span><span style="color:#89DDFF">"</span><span style="color:#C3E88D">next</span><span style="color:#89DDFF">"</span><span style="color:#F07178">)</span></span>
<span class="line"><span style="color:#89DDFF">    }</span><span style="color:#F07178">)</span><span style="color:#89DDFF">;</span></span>
<span class="line"><span style="color:#89DDFF">  };</span></span>
<span class="line"><span style="color:#89DDFF">}</span></span></code></pre>`,M,B,ts="ç”Ÿæˆå™¨ Generator",O,E,cs="åœ¨è¿™é‡Œä¾‹å­ä¸­å¼‚æ­¥å‡½æ•°è¢«è½¬æ¢æˆäº†ç”Ÿæˆå™¨å‡½æ•°ã€‚è¿™é‡Œå…ˆç®€è¦å›é¡¾ä¸€ä¸‹ç”Ÿæˆå™¨ï¼š",R,f,rs="<li>é€šè¿‡<code>function* () {}</code>å®šä¹‰ç”Ÿæˆå™¨å‡½æ•°ï¼Œå…¶è¿”å›ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡</li> <li>è°ƒç”¨ç”Ÿæˆå™¨å‡½æ•°çš„<code>.next()</code>æ–¹æ³•åï¼Œå¼€å§‹æ‰§è¡Œç”Ÿæˆå™¨å‡½æ•°ä»£ç </li> <li>ç”Ÿæˆå™¨å¯¹è±¡ä¸­å¯ä½¿ç”¨<code>yield</code>å…³é”®å­—ï¼Œç”Ÿæˆå™¨å‡½æ•°æ‰§è¡Œæ—¶é‡åˆ°<code>yield</code>å°†æš‚åœå‡½æ•°çš„æ‰§è¡Œï¼Œè½¬è€Œæ‰§è¡Œ<code>.next()</code>ä¹‹åçš„ä»£ç </li> <li>å†æ¬¡è°ƒç”¨<code>.next()</code>æ–¹æ³•æ—¶ï¼Œä»ä¹‹å‰<code>yield</code>çš„ä½ç½®ç»§ç»­æ‰§è¡Œ</li>",N,d,Fs="ç”Ÿæˆå™¨å‡½æ•°ä¸ä¸»å‡½æ•°ä¹‹é—´å¯è¿›è¡Œæ•°æ®ä¼ é€’ï¼š",U,u,ys='<li>ä¸»å‡½æ•° -&gt; ç”Ÿæˆå™¨å‡½æ•°ï¼š<code>gen.next(val)</code> å‚è§<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Generator/next#%E5%90%91%E7%94%9F%E6%88%90%E5%99%A8%E4%BC%A0%E5%80%BC" rel="nofollow">ğŸ”—</a></li> <li>ç”Ÿæˆå™¨å‡½æ•° -&gt; ä¸»å‡½æ•°ï¼š<code>yield val</code></li>',V,v,Ds="<code>_asyncToGenerator </code>åœ¨å¹²ä»€ä¹ˆï¼Ÿ",W,C,is="æˆ‘ä»¬çŸ¥é“åœ¨<code>async</code>å‡½æ•°<code>await</code>ä¸€ä¸ª promise å¯¹è±¡ï¼Œæˆ‘ä»¬ä¼šç­‰åˆ°å®ƒ fulfilled ä»¥åå¼€å§‹æ‰§è¡Œåé¢çš„ä»£ç ã€‚åœ¨è½¬æ¢åçš„ç”Ÿæˆå™¨å‡½æ•°ä¸­ï¼Œ<code>yield</code>ç›¸å½“äº<code>await</code>ã€‚ç„¶åæˆ‘ä»¬è°ƒç”¨<code>gen.next()</code>æ–¹æ³•æ‰§è¡Œç”Ÿæˆå™¨å‡½æ•°ï¼Œå–å¾—<code>yield fetch(url)</code>ä¸­çš„ promiseï¼Œå¹¶<code>.then()</code>æ–¹æ³•ä¸­è¿›è¡Œé€’å½’â€”â€”è°ƒç”¨<code>gen.next(arg)</code>ç»§ç»­æ‰§è¡Œç”Ÿæˆå™¨å‡½æ•°ï¼Œpromise resolve çš„å€¼é€šè¿‡<code>arg</code>ä¼ é€’ç»™ç”Ÿæˆå™¨å‡½æ•°, â€¦",Z,m,As="å…·ä½“æ­¥éª¤ä¸ºï¼š",I,x,Bs="<li><p>åˆ›å»ºç”Ÿæˆå™¨å¯¹è±¡<code>gen</code>ï¼Œasync å‡½æ•°è¿”å›ä¸€ä¸ª promise</p></li> <li><p>æ‰§è¡Œä¼ å…¥ promise çš„å‡½æ•°ï¼Œè°ƒç”¨<code>gen.next()</code>ï¼Œå¼•æ“è·³è½¬åˆ°ç”Ÿæˆå™¨å‡½æ•°<code>g_foo</code>å¼€å§‹æ‰§è¡Œ</p></li> <li><p>é‡åˆ°<code>yield</code>,æš‚åœå‡½æ•°æ‰§è¡Œï¼Œ<code>fetch(url)</code>è¿”å›ä¸€ä¸ª promiseï¼Œå¹¶è¢«ä¼ å›ç»™ä¸»å‡½æ•°ï¼Œèµ‹å€¼ç»™<code>info.value</code></p></li> <li><p>è°ƒç”¨<code>promise.then</code>è®¾ç½® resolved åçš„å›è°ƒå‡½æ•°ï¼Œ<code>_asyncToGenerator</code>ç»“æŸè¿è¡Œ</p></li> <li><p>æ­¤æ—¶å°†ç»§ç»­æ‰§è¡Œä¸»å‡½æ•°ä¸­çš„å‰©ä½™ä»£ç ã€‚</p></li> <li><p>å½“ fetch ä»æœåŠ¡å™¨å¾—åˆ°æ•°æ®åï¼Œæ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œå³<code>step</code>ï¼Œå¹¶å°†promise resolvedåçš„å€¼ä¼ å…¥å…¶ä¸­</p></li> <li><p>é‡å¤æ‰§è¡Œ2ï½6ï¼ŒçŸ¥é“ç”Ÿæˆå™¨å‡½æ•°è¿”å›ï¼Œ<code>done</code>ä¸ºçœŸ</p></li>",K,_,Es="æµè§ˆå™¨ï¼ˆV8ï¼‰å®é™…æ˜¯å¦‚ä½•å¤„ç†çš„ï¼Ÿ",Q,h,fs='æ ¹æ® V8 å®˜æ–¹çš„ <a href="https://v8.dev/blog/fast-async#async-functions" rel="nofollow">blog</a>ï¼Œåœ¨ Node.js 12 çš„ä¸€ç³»åˆ—ä¼˜åŒ–åï¼Œ<code>async</code>å‡½æ•°åœ¨å†…éƒ¨è¢«è½¬åŒ–æˆäº†',X,k,xs=`<pre class="shiki material-theme-palenight" style="background-color:#292D3E;color:#babed8" tabindex="0"><code><span class="line"><span style="color:#C792EA">async</span><span style="color:#C792EA"> function</span><span style="color:#82AAFF"> foo</span><span style="color:#89DDFF">(</span><span style="color:#BABED8;font-style:italic">v</span><span style="color:#89DDFF">)</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#C792EA">  const</span><span style="color:#BABED8"> w</span><span style="color:#89DDFF"> =</span><span style="color:#89DDFF;font-style:italic"> await</span><span style="color:#BABED8"> v</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic">  return</span><span style="color:#BABED8"> w</span></span>
<span class="line"><span style="color:#89DDFF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8">resumable </span><span style="color:#C792EA">function</span><span style="color:#82AAFF"> foo</span><span style="color:#89DDFF">(</span><span style="color:#BABED8;font-style:italic">v</span><span style="color:#89DDFF">)</span><span style="color:#89DDFF"> {</span></span>
<span class="line"><span style="color:#BABED8">  implicit_promise</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> createPromise</span><span style="color:#F07178">()</span></span>
<span class="line"><span style="color:#676E95;font-style:italic">  // å¦‚æœvä¸æ˜¯promiseï¼Œåˆ™å°†å…¶è½¬åŒ–æˆpromise</span></span>
<span class="line"><span style="color:#BABED8">  promise</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> promiseResolve</span><span style="color:#F07178">(</span><span style="color:#BABED8">v</span><span style="color:#F07178">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic">  // è®¾ç½®fulfilledå’Œrejectedæ—¶çš„å›è°ƒå‡½æ•°ï¼Œæ¢å¤fooçš„è¿è¡Œ</span></span>
<span class="line"><span style="color:#82AAFF">  performPromiseThen</span><span style="color:#F07178">(</span><span style="color:#BABED8">promise</span><span style="color:#89DDFF">,</span></span>
<span class="line"><span style="color:#BABED8;font-style:italic">    res</span><span style="color:#C792EA"> =></span><span style="color:#82AAFF"> resume</span><span style="color:#F07178">(</span><span style="color:#89DDFF">&#x3C;&#x3C;</span><span style="color:#BABED8">foo</span><span style="color:#89DDFF">>>,</span><span style="color:#BABED8"> res</span><span style="color:#F07178">)</span><span style="color:#89DDFF">,</span></span>
<span class="line"><span style="color:#BABED8;font-style:italic">    err</span><span style="color:#C792EA"> =></span><span style="color:#82AAFF"> throw</span><span style="color:#F07178">(</span><span style="color:#89DDFF">&#x3C;&#x3C;</span><span style="color:#BABED8">foo</span><span style="color:#89DDFF">>>,</span><span style="color:#BABED8"> err</span><span style="color:#F07178">))</span></span>
<span class="line"><span style="color:#676E95;font-style:italic">  // æŒ‚èµ·fooï¼Œå¹¶è¿”å›éšå¼åˆ›å»ºçš„promise</span></span>
<span class="line"><span style="color:#BABED8">  w</span><span style="color:#89DDFF"> =</span><span style="color:#82AAFF"> suspend</span><span style="color:#F07178">(</span><span style="color:#89DDFF">&#x3C;&#x3C;</span><span style="color:#BABED8">foo</span><span style="color:#89DDFF">>>,</span><span style="color:#BABED8"> implicit_promise</span><span style="color:#F07178">)</span></span>
<span class="line"><span style="color:#82AAFF">  resolvePromise</span><span style="color:#F07178">(</span><span style="color:#BABED8">implicit_promise</span><span style="color:#89DDFF">,</span><span style="color:#BABED8"> w</span><span style="color:#F07178">)</span></span>
<span class="line"><span style="color:#89DDFF">}</span></span></code></pre>`,j,w,ds='è§‚å¯Ÿå‘ç°ä»£ç ç»“æ„å…¶å®ä¸ Babel polyfill ååˆ†ç›¸ä¼¼ï¼Œå†…éƒ¨åŒæ ·ä½¿ç”¨Promiseï¼Œ<code>resume</code>å’Œ<code>suspend</code>è¿™äº›å¼•æ“å†…éƒ¨å‡½æ•°ä¸ generator ä¹Ÿæœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ã€‚<code>performPromiseThen</code>åœ¨å¼•æ“çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­åˆ›å»ºäº†<a href="https://tc39.es/ecma262/#sec-promisereactionjob" rel="nofollow">PromiseReactionJob</a>,ä¸å›è°ƒå‡½æ•°ç»‘å®šã€‚å½“ä¸»å‡½æ•°è¿è¡Œå®Œï¼Œä¸”awaitçš„promise resolveäº†ä¹‹åï¼Œæ‰§è¡Œå¾®ä»»åŠ¡ï¼Œæ¢å¤fooå‡½æ•°çš„æ‰§è¡Œã€‚';return{c(){r=c("p"),r.innerHTML=ls,g=p(),F=c("h2"),F.textContent=ns,G=p(),y=c("p"),y.innerHTML=as,S=p(),D=c("p"),D.textContent=os,z=p(),b=new $(!1),T=p(),i=c("p"),i.textContent=ps,q=p(),H=new $(!1),L=p(),A=c("p"),A.textContent=es,J=p(),P=new $(!1),M=p(),B=c("h3"),B.textContent=ts,O=p(),E=c("p"),E.textContent=cs,R=p(),f=c("ul"),f.innerHTML=rs,N=p(),d=c("p"),d.textContent=Fs,U=p(),u=c("ul"),u.innerHTML=ys,V=p(),v=c("h3"),v.innerHTML=Ds,W=p(),C=c("p"),C.innerHTML=is,Z=p(),m=c("p"),m.textContent=As,I=p(),x=c("ol"),x.innerHTML=Bs,K=p(),_=c("h2"),_.textContent=Es,Q=p(),h=c("p"),h.innerHTML=fs,X=p(),k=new $(!1),j=p(),w=c("p"),w.innerHTML=ds,this.h()},l(s){r=e(s,"P",{"data-svelte-h":!0}),t(r)!=="svelte-1pzdxqk"&&(r.innerHTML=ls),g=o(s),F=e(s,"H2",{"data-svelte-h":!0}),t(F)!=="svelte-iv4go9"&&(F.textContent=ns),G=o(s),y=e(s,"P",{"data-svelte-h":!0}),t(y)!=="svelte-1js1eq2"&&(y.innerHTML=as),S=o(s),D=e(s,"P",{"data-svelte-h":!0}),t(D)!=="svelte-iplkh4"&&(D.textContent=os),z=o(s),b=Y(s,!1),T=o(s),i=e(s,"P",{"data-svelte-h":!0}),t(i)!=="svelte-1v7b1bz"&&(i.textContent=ps),q=o(s),H=Y(s,!1),L=o(s),A=e(s,"P",{"data-svelte-h":!0}),t(A)!=="svelte-1xhnxoj"&&(A.textContent=es),J=o(s),P=Y(s,!1),M=o(s),B=e(s,"H3",{"data-svelte-h":!0}),t(B)!=="svelte-1v7o2e2"&&(B.textContent=ts),O=o(s),E=e(s,"P",{"data-svelte-h":!0}),t(E)!=="svelte-1o07asw"&&(E.textContent=cs),R=o(s),f=e(s,"UL",{"data-svelte-h":!0}),t(f)!=="svelte-3x9whi"&&(f.innerHTML=rs),N=o(s),d=e(s,"P",{"data-svelte-h":!0}),t(d)!=="svelte-ve19xp"&&(d.textContent=Fs),U=o(s),u=e(s,"UL",{"data-svelte-h":!0}),t(u)!=="svelte-wwpj3m"&&(u.innerHTML=ys),V=o(s),v=e(s,"H3",{"data-svelte-h":!0}),t(v)!=="svelte-1yulp3t"&&(v.innerHTML=Ds),W=o(s),C=e(s,"P",{"data-svelte-h":!0}),t(C)!=="svelte-i2knj2"&&(C.innerHTML=is),Z=o(s),m=e(s,"P",{"data-svelte-h":!0}),t(m)!=="svelte-1fjw9rp"&&(m.textContent=As),I=o(s),x=e(s,"OL",{"data-svelte-h":!0}),t(x)!=="svelte-vznels"&&(x.innerHTML=Bs),K=o(s),_=e(s,"H2",{"data-svelte-h":!0}),t(_)!=="svelte-s67dv6"&&(_.textContent=Es),Q=o(s),h=e(s,"P",{"data-svelte-h":!0}),t(h)!=="svelte-12kzb59"&&(h.innerHTML=fs),X=o(s),k=Y(s,!1),j=o(s),w=e(s,"P",{"data-svelte-h":!0}),t(w)!=="svelte-ntlq3a"&&(w.innerHTML=ds),this.h()},h(){b.a=T,H.a=L,P.a=M,k.a=j},m(s,l){a(s,r,l),a(s,g,l),a(s,F,l),a(s,G,l),a(s,y,l),a(s,S,l),a(s,D,l),a(s,z,l),b.m(vs,s,l),a(s,T,l),a(s,i,l),a(s,q,l),H.m(Cs,s,l),a(s,L,l),a(s,A,l),a(s,J,l),P.m(ms,s,l),a(s,M,l),a(s,B,l),a(s,O,l),a(s,E,l),a(s,R,l),a(s,f,l),a(s,N,l),a(s,d,l),a(s,U,l),a(s,u,l),a(s,V,l),a(s,v,l),a(s,W,l),a(s,C,l),a(s,Z,l),a(s,m,l),a(s,I,l),a(s,x,l),a(s,K,l),a(s,_,l),a(s,Q,l),a(s,h,l),a(s,X,l),k.m(xs,s,l),a(s,j,l),a(s,w,l)},p:ss,i:ss,o:ss,d(s){s&&(n(r),n(g),n(F),n(G),n(y),n(S),n(D),n(z),b.d(),n(T),n(i),n(q),H.d(),n(L),n(A),n(J),P.d(),n(M),n(B),n(O),n(E),n(R),n(f),n(N),n(d),n(U),n(u),n(V),n(v),n(W),n(C),n(Z),n(m),n(I),n(x),n(K),n(_),n(Q),n(h),n(X),k.d(),n(j),n(w))}}}const Ts={title:"async/await æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ",date:"2022-07-17",summary:"ES2017 å¼•å…¥äº†`Async/Await`è¯­æ³•ï¼Œä½¿å¾—æˆ‘ä»¬çš„å¼‚æ­¥ä»£ç çœ‹èµ·æ¥æ›´åƒæ˜¯åŒæ­¥ä»£ç ï¼Œéšè—äº†æˆå †çš„å›è°ƒå‡½æ•°ã€‚ä½†æ˜¯ Javascript å¼•æ“å†…éƒ¨æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ",updatedOn:"2025-08-16T15:41:37.970Z"},{title:Ps,date:Ms,summary:ks,updatedOn:js}=Ts;class gs extends hs{constructor(r){super(),ws(this,r,null,bs,_s,{})}}export{gs as default,Ts as metadata};
